var SexyTable;!function(t){t.AutoMakeSexy=!0,$(document).ready(function(){t.AutoMakeSexy&&$(".sexy-table").each(function(e,n){new t.Table(n)})}),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,a=function(){},i=function(){return n.apply(this instanceof a&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return a.prototype=this.prototype,i.prototype=new a,i})}(SexyTable||(SexyTable={}));var SexyTable;!function(t){var e=function(){function t(t){this.container=t,this.SetWidthOfCells(),this.SetHeightOfRows(),this.UnhideContainer(),$(window).resize(this.SetWidthOfCells.bind(this)),$(window).resize(this.SetHeightOfRows.bind(this))}return t.prototype.SetHeightOfRows=function(){var t=this;this.container.find("ul").css("height","auto"),this.container.find("ul").each(function(e,n){$(n).css("height",t.CalculateRowHeight(n))})},t.prototype.CalculateRowHeight=function(t){var e=-1;return $(t).find("li").each(function(t,n){$(n).outerHeight(!0)>e&&(e=$(n).outerHeight(!0))}),e},t.prototype.SetWidthOfCells=function(){this.container.find("li").css("width",this.CalculateCellWidth())},t.prototype.CalculateCellWidth=function(){var t=this.GetNumberOfCols(),e=this.GetTotalWidthOfTable(),n=this.GetCellPadding();return e/t-n},t.prototype.UnhideContainer=function(){this.container.css("visibility","visible")},t.prototype.GetTotalWidthOfTable=function(){var t,e=this.container[0].getBoundingClientRect();return t=e.width?e.width:e.right-e.left},t.prototype.GetNumberOfCols=function(){return this.container.find("ul").first().find("li").length},t.prototype.GetCellPadding=function(){var t=this.container.find("li").first();return t.outerWidth(!0)-t.width()},t}();t.Sizer=e}(SexyTable||(SexyTable={}));var SexyTable;!function(t){var e=function(){function t(t){this.caseInsensitive=!0,this.container=t,this.EnsureTableHasThead(),this.CacheTableData(),this.InsertSortableToggles()}return t.prototype.EnsureTableHasThead=function(){if(2!=this.container.find(".thead, .tbody").length)throw new Error("Sortable tables MUST use .thead and .tbody containers!")},t.prototype.CacheTableData=function(){var t=[];this.container.find(".thead ul").first().find("li").each(function(e,n){t.push($(n).find(".inner").text())});var e=[];this.container.find(".tbody ul").each(function(n,a){var i={_dom:a};$(a).find("li").each(function(e,n){""!=t[e]&&(i[t[e]]=$(n).find(".inner").text())}),e.push(i)}),this.tableData=e},t.prototype.InsertSortableToggles=function(){var t=this;this.container.find(".thead ul").first().find(".inner").each(function(e,n){""!=$(n).text()&&($(n).append('<i class="fa fa-sort"></i>'),$(n).css("cursor","pointer"),$(n).click(t.OnSort.bind(t,n)))})},t.prototype.OnSort=function(t){var e,n=$(t).find("i");n.hasClass("fa-sort")?(e="asc",n.removeClass("fa-sort"),n.addClass("fa-sort-asc")):n.hasClass("fa-sort-asc")?(e="desc",n.removeClass("fa-sort-asc"),n.addClass("fa-sort-desc")):n.hasClass("fa-sort-desc")&&(e="as-loaded",n.removeClass("fa-sort-desc"),n.addClass("fa-sort"));var a=this.container.find(".thead i").not(n);switch(a.removeClass("fa-sort-asc"),a.removeClass("fa-sort-desc"),a.addClass("fa-sort"),e){case"asc":this.ReDrawTable(this.newTableData().sort(this.sortByKey($(t).text())));break;case"desc":this.ReDrawTable(this.newTableData().sort(this.sortByKey($(t).text())).reverse());break;default:this.ReDrawTable(this.tableData)}},t.prototype.ReDrawTable=function(t){var e=new Array;for(var n in t)e.push(t[n]._dom);this.container.find(".tbody").empty().append(e)},t.prototype.newTableData=function(){return this.tableData.slice(0)},t.prototype.sortByKey=function(t){var e=this;return function(n,a){return e.naturalSort(n[t],a[t])}},t.prototype.naturalSort=function(t,e){var n,a,i=/(^([+\-]?(?:\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[\da-fA-F]+$|\d+)/g,r=/^\s+|\s+$/g,o=/\s+/g,s=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,l=/^0x[0-9a-f]+$/i,c=/^0/,h=function(t){return(this.caseInsensitive&&(""+t).toLowerCase()||""+t).replace(r,"")},f=h(t)||"",u=h(e)||"",d=f.replace(i,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),p=u.replace(i,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),y=parseInt(null==f.match(l)?null:f.match(l).toString(),16)||1!==d.length&&Date.parse(f),b=parseInt(null==u.match(l)?null:u.match(l).toString(),16)||y&&u.match(s)&&Date.parse(u)||null,w=function(t,e){return(!t.match(c)||1==e)&&parseFloat(t)||t.replace(o," ").replace(r,"")||0};if(b){if(b>y)return-1;if(y>b)return 1}for(var v=0,C=d.length,S=p.length,T=Math.max(C,S);T>v;v++){if(n=w(d[v],C),a=w(p[v],S),isNaN(n)!==isNaN(a))return isNaN(n)?1:-1;if(typeof n!=typeof a&&(n+="",a+=""),a>n)return-1;if(n>a)return 1}return 0},t}();t.Sorter=e}(SexyTable||(SexyTable={}));var SexyTable;!function(t){var e=function(){function e(e){this.container=$(e),this.InsertCellWrapper(),this.container.hasClass("sortable")&&this.MakeSortable(),this.sizer=new t.Sizer(this.container)}return e.prototype.MakeSortable=function(){this.container.hasClass("sortable")||this.container.addClass("sortable"),this.sorter=new t.Sorter(this.container)},e.prototype.InsertCellWrapper=function(){this.container.find("li").wrapInner('<div class="inner"></div>')},e}();t.Table=e}(SexyTable||(SexyTable={}));